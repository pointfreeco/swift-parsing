import CustomDump
import Parsing
import XCTest

@available(iOS 15, macOS 12, tvOS 15, watchOS 8, *)
final class ParseableFormatStyleTests: XCTestCase {
  func testDate() {
    let parser = Rest<Substring>().map(.string.formatted(.iso8601))

    XCTAssertNoDifference(try parser.parse("1970-01-01T00:00:00Z"), Date(timeIntervalSince1970: 0))
    XCTAssertNoDifference(try parser.print(Date(timeIntervalSince1970: 0)), "1970-01-01T00:00:00Z")
  }
}
